<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class VivialConnect::Number - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#class-VivialConnect::Number-label-.all">.all</a>
    <li><a href="#class-VivialConnect::Number-label-.available_numbers-28options-3D-7B-7D-29">.available_numbers(options={})</a>
    <li><a href="#class-VivialConnect::Number-label-.count">.count</a>
    <li><a href="#class-VivialConnect::Number-label-.create-28options-3D-7B-7D-29">.create(options={})</a>
    <li><a href="#class-VivialConnect::Number-label-.delete-28id-29">.delete(id)</a>
    <li><a href="#class-VivialConnect::Number-label-.filter_all-28options-3D-7B-7D-29">.filter_all(options={})</a>
    <li><a href="#class-VivialConnect::Number-label-.find-28id-29">.find(id)</a>
    <li><a href="#class-VivialConnect::Number-label-.find_each-28start-3A+1-2C+finish-3A+nil-2C+batch_size-3A+150-29">.find_each(start: 1, finish: nil, batch_size: 150)</a>
    <li><a href="#class-VivialConnect::Number-label-.find_in_batches-28start-3A+1-2C+finish-3A+nil-2C+batch_size-3A+150-29++">.find_in_batches(start: 1, finish: nil, batch_size: 150)  </a>
    <li><a href="#class-VivialConnect::Number-label-.local">.local</a>
    <li><a href="#class-VivialConnect::Number-label-.lookup-28number-29">.lookup(number)</a>
    <li><a href="#class-VivialConnect::Number-label-.update-28id-2C+options-3D-7B-7D-29">.update(id, options={})</a>
    <li><a href="#class-VivialConnect::Number-label-23delete">#delete</a>
    <li><a href="#class-VivialConnect::Number-label-23save">#save</a>
  </ul>
</div>


  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Resource
  
</div>

    
    
    
  </div>
</nav>

<main role="main" aria-labelledby="class-VivialConnect::Number">
  <h1 id="class-VivialConnect::Number" class="class">
    class VivialConnect::Number
  </h1>

  <section class="description">
    
<h3 id="class-VivialConnect::Number-label-.all">.all<span><a href="#class-VivialConnect::Number-label-.all">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns an array containing ruby objects corresponding to all <a
href="Number.html">Number</a> resources on your account</p>

<pre>Example usage:

VivialConnect::Number.all
=&gt; [#&lt;VivialConnect::Number account_id=1XXXX, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;ALMELUND&quot;, date_created=&quot;2017-04-25T09:53:11-04:00&quot;, date_modified=&quot;2017-04-25T09:53:11-04:00&quot;, id=65, lata=nil, master_account_id=1XXXX, status_text_url=nil, name=&quot;(612) 299-1726&quot;, phone_number=&quot;+16122991726&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;TWINCITIES&quot;, region=&quot;MN&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=nil, voice_forwarding_number=nil&gt;]</pre>

<h3 id="class-VivialConnect::Number-label-.available_numbers-28options-3D-7B-7D-29">.available_numbers(options={})<span><a href="#class-VivialConnect::Number-label-.available_numbers-28options-3D-7B-7D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns an array of available numbers corresponding to your search
parameters</p>

<pre>You must specify exactly one of the following three parameters: in_region, area_code, in_postal_code                                                                 

in_region      | String | Filters the results include only phone numbers in a specified 2-letter region (US state).
area_code      | Fixnum | Filters the results to include only phone numbers by US area code.
in_postal_code | Fixnum | Filters the results to include only phone numbers in a specified 5-digit postal code.

Optional parameters:

limit          | Fixnum | Number of results to return per page. Default value: 50.
contains       | String | Filters the results to include only phone numbers that match a number pattern you specify. The pattern can include letters, digits, and the following wildcard characters:
                            -- ? : matches any single digit
                            -- * : matches zero or more digits
local_number   | Fixnum | Filters the results to include only phone numbers that match the first three or more digits you specify to immediately follow the area code. To use this parameter, you must also specify an area_code.
in_city        | String | Filters the results to include only phone numbers in a specified city.

Example Usage:
VivialConnect::Number.available_numbers(in_region: &quot;PA&quot;, in_city: &quot;Chambersburg&quot;, limit: 10)
=&gt; [#&lt;VivialConnect::Number city=&quot;CHAMBERSBG&quot;, lata=nil, name=&quot;(717) 496-4018&quot;, phone_number=&quot;+17174964018&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;CHAMBERSBG&quot;, region=&quot;PA&quot;&gt;, #&lt;VivialConnect::Number city=&quot;CHAMBERSBG&quot;, lata=nil, name=&quot;(717) 496-4019&quot;, phone_number=&quot;+17174964019&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;CHAMBERSBG&quot;, region=&quot;PA&quot;&gt;, ... 9 more numbers ]</pre>

<h3 id="class-VivialConnect::Number-label-.count">.count<span><a href="#class-VivialConnect::Number-label-.count">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns the number of phone numbers associated with your account.</p>

<pre>Example usage:

VivialConnect::Number.count
=&gt; 5</pre>

<h3 id="class-VivialConnect::Number-label-.create-28options-3D-7B-7D-29">.create(options={})<span><a href="#class-VivialConnect::Number-label-.create-28options-3D-7B-7D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Buys a number and attaches it to your account. This method is aliased as
.buy(options={}) as well. Returns the number you just aquired as an object.</p>

<pre>You must specify at least one of the following two parameters:                                                                  

phone_number   | String | &quot;+16125551212&quot;  &lt;--NOTE: &quot;+1&quot; in front of the number.                     
area_code      | String | &quot;612&quot;                     

Optional parameters:

name                          | String | New phone number as it is displayed to users. Default format: Friendly national format: (xxx) yyy-zzzz.
status_text_url               | String | URL to receive status requests for messages sent via the API using this associated phone number. Max. length: 256 characters.
sms_configuration_id          | String | Unique identifier of the status configuration to be used to handle SMS messages sent to the associated number.
incoming_text_url             | String | URL for receiving SMS messages to the associated phone number. Max. length: 256 characters.
incoming_text_method          | String | HTTP method used for the incoming_text_url requests. Max. length: 8 characters. Possible values: GET or POST. Default value: POST.
incoming_text_fallback_url    | String | URL for receiving SMS messages if incoming_text_url fails. Only valid if you provide a value for the incoming_text_url parameter. Max. length: 256 characters.
incoming_text_fallback_method | String | HTTP method used for sms_url_fallback requests. Max. length: 8 characters. Possible values: GET or POST. Default value: POST.

Example usage:

VivialConnect::Number.create(phone_number: &quot;+14124330365&quot;)
VivialConnect::Number.buy(phone_number: &quot;+14124330365&quot;)
=&gt; #&lt;VivialConnect::Number account_id=1XXXX, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;PITTSBURGH &quot;, date_created=&quot;2017-04-25T09:56:04-04:00&quot;, date_modified=&quot;2017-04-25T09:56:04-04:00&quot;, id=66, lata=nil, master_account_id=10096, status_text_url=nil, name=&quot;(412) 433-0365&quot;, phone_number=&quot;+14124330365&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;PTTSBGZON1&quot;, region=&quot;PA&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=nil, voice_forwarding_number=nil&gt;</pre>

<h3 id="class-VivialConnect::Number-label-.delete-28id-29">.delete(id)<span><a href="#class-VivialConnect::Number-label-.delete-28id-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Deletes a phone number with the provided id from your account and returns
true. WARNING: this cannot be undone. Once the number is released from your
account it can be aquired by other users.</p>

<pre>Example usage:

VivialConnect::Number.delete(100230)
=&gt; true</pre>

<h3 id="class-VivialConnect::Number-label-.filter_all-28options-3D-7B-7D-29">.filter_all(options={})<span><a href="#class-VivialConnect::Number-label-.filter_all-28options-3D-7B-7D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns an array of number objects the contents of which are determined by
the search parameters</p>

<pre>Parameters:

limit          | Fixnum | Number of results to return per page. Default value: 50.
contains       | String | Filters the results to include only phone numbers that match a number pattern you specify. The pattern can include letters, digits, and the following wildcard characters:
                            -- ? : matches any single digit
                            -- * : matches zero or more digits
page           | Fixnum | Page number within the returned list of associated phone numbers. Default value: 1.
name           | String | Filters the results to include only phone numbers exactly matching the specified name.

NOTE: If you do not pass any filtering parameters, you will get an array containing all of your phone_numbers i.e.
the same behavior as .all

Example usage:

VivialConnect::Number.filter_all(contains: &quot;612&quot;)
=&gt; [#&lt;VivialConnect::Number phone_number=&quot;+1612XXXXXXX&quot;&gt;, #&lt;VivialConnect::Number phone_number=&quot;+1612XXXXXXX&quot;&gt;, ...]</pre>

<h3 id="class-VivialConnect::Number-label-.find-28id-29">.find(id)<span><a href="#class-VivialConnect::Number-label-.find-28id-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns number object with the id provided</p>

<pre>Required parameter:

id | Fixnum | 726

Example usage:

VivialConnect::Number.find(726)
=&gt; #&lt;VivialConnect::Number account_id=1XXXX, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;ALMELUND&quot;, date_created=&quot;2017-04-25T10:22:07-04:00&quot;, date_modified=&quot;2017-04-25T10:41:16-04:00&quot;, id=726, lata=nil, master_account_id=1XXXX, status_text_url=nil, name=&quot;Dr. Jones&quot;, phone_number=&quot;+16123151041&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;TWINCITIES&quot;, region=&quot;MN&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=nil, voice_forwarding_number=nil&gt;</pre>

<h3 id="class-VivialConnect::Number-label-.find_each-28start-3A+1-2C+finish-3A+nil-2C+batch_size-3A+150-29">.find_each(start: 1, finish: nil, batch_size: 150)<span><a href="#class-VivialConnect::Number-label-.find_each-28start-3A+1-2C+finish-3A+nil-2C+batch_size-3A+150-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Iterates through all of the numbers on your account in N sized batches and
returns an array containing all the numbers beginning at the `start: value`
and ending at the `finish: value`.</p>

<pre>When a block is given this method yields an individual Number object. 
Without a block, this method returns an Enumerator. 

By default, it will begin at the first number and end at the last number

With default batch_size: 150, if you wanted to get your records from
150 to 300 you would start at 2 and finish at 2.

Returns an Array of objects corresponding to the `start` and `finish` values. Default is all objects.

Optional parameters:

start      | Fixnum | batch to start with
finish     | Fixnum | batch to end with
batch_size | Fixnum | between 1..150

Example usage:

VivialConnect::Number.find_each {|number| puts number.name}
example number name
=&gt; [#&lt;VivialConnect::Number account_id=1XXXX&gt;, #&lt;VivialConnect::Number account_id=1XXXX&gt;, ... ]</pre>

<h3 id="class-VivialConnect::Number-label-.find_in_batches-28start-3A+1-2C+finish-3A+nil-2C+batch_size-3A+150-29++">.find_in_batches(start: 1, finish: nil, batch_size: 150)  <span><a href="#class-VivialConnect::Number-label-.find_in_batches-28start-3A+1-2C+finish-3A+nil-2C+batch_size-3A+150-29++">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Iterates through all of the numbers on your account in N sized batches and
returns an array containing all the numbers beginning at the `start: value`
and ending at the `finish: value`.</p>

<pre>When a block is given this method yields an array of batch_size resource objects. 
Without a block, it returns an Enumerator.

By default, it will begin at the first number and end at the last number

With default batch_size: 150, if you wanted to get your records from
150 to 300 you would start at 2 and finish at 2.

Returns an Array of objects corresponding to the `start` and `finish` values. Default is all objects.

Optional parameters:

start      | Fixnum | batch to start with
finish     | Fixnum | batch to end with
batch_size | Fixnum | between 1..150

Example usage:

VivialConnect::Number.find_in_batches {|batch| do_something_with_an_array(batch)}
=&gt; [#&lt;VivialConnect::Number account_id=1XXXX&gt;, #&lt;VivialConnect::Number account_id=1XXXX, ... ]</pre>

<h3 id="class-VivialConnect::Number-label-.local">.local<span><a href="#class-VivialConnect::Number-label-.local">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns an array of all US local numbers owned by your account</p>

<pre>Example usage:

VivialConnect::Number.local
=&gt; [#&lt;VivialConnect::Number account_id=1XXXX, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;BELCHERTOWN&quot;, date_created=&quot;2017-02-06T15:51:27-05:00&quot;, date_modified=&quot;2017-04-10T17:43:17-04:00&quot;, id=27, lata=nil, master_account_id=1XXXX, status_text_url=nil, name=&quot;App Number 1&quot;, phone_number=&quot;+1XXXXXXXXXX&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;BELCHERTN&quot;, region=&quot;MA&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=&quot;http://requestb.in/174w8nz1&quot;, voice_forwarding_number=&quot;+1XXXXXXXXXX&quot;&gt;]</pre>

<h3 id="class-VivialConnect::Number-label-.lookup-28number-29">.lookup(number)<span><a href="#class-VivialConnect::Number-label-.lookup-28number-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Returns lookup information for a phone number</p>

<pre>Required parameter:
number | String | &quot;+1XXXXXXXXXX&quot; &lt;--NOTE: &quot;+1&quot; in front of the number.  

Example Usage:

VivialConnect::Number.lookup(&quot;+1XXXXXXXXXX&quot;)
=&gt; #&lt;VivialConnect::Number carrier={&quot;capabilities&quot;=&gt;{&quot;deactivation_files&quot;=&gt;true, &quot;device_lookup_api&quot;=&gt;true, &quot;location_data&quot;=&gt;true, &quot;mms_connection_status&quot;=&gt;true, &quot;mms_dr&quot;=&gt;true, &quot;sms_connection_status&quot;=&gt;true, &quot;sms_fteu&quot;=&gt;true, &quot;sms_handset_dr&quot;=&gt;true, &quot;uaprof_in_mms_dr&quot;=&gt;true}, &quot;country&quot;=&gt;&quot;US&quot;, &quot;name&quot;=&gt;&quot;T-Mobile&quot;}, date_created=&quot;2017-04-06T11:39:48-04:00&quot;, date_modified=&quot;2017-04-06T11:39:48-04:00&quot;, device={&quot;error&quot;=&gt;&quot;15012- Device lookup is not supported by this carrier.&quot;, &quot;model&quot;=&gt;nil}, phone_number=&quot;+1XXXXXXXXXX&quot;&gt;</pre>

<h3 id="class-VivialConnect::Number-label-.update-28id-2C+options-3D-7B-7D-29">.update(id, options={})<span><a href="#class-VivialConnect::Number-label-.update-28id-2C+options-3D-7B-7D-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Updates the phone_number record and returns the record as an object.</p>

<pre>Required parameter:

id                      | Fixnum | 875                    

Optional parameters:

name                          | String | New phone number as it is displayed to users. Default format: Friendly national format: (xxx) yyy-zzzz.
status_text_url               | String | URL to receive status requests for messages sent via the API using this associated phone number. Max. length: 256 characters.
sms_configuration_id          | String | Unique identifier of the status configuration to be used to handle SMS messages sent to the associated number.
incoming_text_url             | String | incoming_text_url URL for receiving SMS messages to the associated phone number. Max. length: 256 characters.
incoming_text_method          | String | HTTP method used for the incoming_text_url requests. Max. length: 8 characters. Possible values: GET or POST. Default value: POST.
incoming_text_fallback_url    | String | URL for receiving SMS messages if incoming_text_url fails. Only valid if you provide a value for the incoming_text_url parameter. Max. length: 256 characters.
incoming_text_fallback_method | String | HTTP method used for sms_url_fallback requests. Max. length: 8 characters. Possible values: GET or POST. Default value: POST.

Example usage:

VivialConnect::Number.update(875, name: &quot;Dr. Jones&quot;)
=&gt; #&lt;VivialConnect::Number account_id=10096, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;ALMELUND&quot;, date_created=&quot;2017-04-25T10:22:07-04:00&quot;, date_modified=&quot;2017-04-25T10:41:16-04:00&quot;, id=69, lata=nil, master_account_id=1XXXX, status_text_url=nil, name=&quot;Dr. Jones&quot;, phone_number=&quot;+16123151041&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;TWINCITIES&quot;, region=&quot;MN&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=nil, voice_forwarding_number=nil&gt; #&lt;VivialConnect::Number account_id=1XXXX, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;PITTSBURGH &quot;, date_created=&quot;2017-04-25T09:56:04-04:00&quot;, date_modified=&quot;2017-04-25T09:56:04-04:00&quot;, id=66, lata=nil, master_account_id=10096, status_text_url=nil, name=&quot;(412) 433-0365&quot;, phone_number=&quot;+14124330365&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;PTTSBGZON1&quot;, region=&quot;PA&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=nil, voice_forwarding_number=nil&gt;</pre>

<h3 id="class-VivialConnect::Number-label-23delete">#delete<span><a href="#class-VivialConnect::Number-label-23delete">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre>Deletes a Number object. WARNING: this cannot be undone. Once the number is released from your account it can be aquired by other users.

Example usage:

number = VivialConnect::Number.find(1)
number.delete
=&gt; true</pre>

<h3 id="class-VivialConnect::Number-label-23save">#save<span><a href="#class-VivialConnect::Number-label-23save">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre>Creates a number associated with your main account or updates an existing one

Example usage:

number = VivialConnect::Number.find(2)
number.name = &quot;new name for this number&quot;
number.save
=&gt; #&lt;VivialConnect::Number account_id=1XXXX, active=true, address_requirements=&quot;none&quot;, capabilities={&quot;mms&quot;=&gt;true, &quot;sms&quot;=&gt;true, &quot;voice&quot;=&gt;true}, city=&quot;PITTSBURGH &quot;, date_created=&quot;2017-04-25T09:56:04-04:00&quot;, date_modified=&quot;2017-04-25T09:56:04-04:00&quot;, id=66, lata=nil, master_account_id=10096, status_text_url=nil, name=&quot;new name for this number&quot;, phone_number=&quot;+14124330365&quot;, phone_number_type=&quot;local&quot;, rate_center=&quot;PTTSBGZON1&quot;, region=&quot;PA&quot;, sms_configuration_id=nil, incoming_text_fallback_method=nil, incoming_text_fallback_url=nil, incoming_text_method=nil, incoming_text_url=nil, voice_forwarding_number=nil&gt;</pre>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

